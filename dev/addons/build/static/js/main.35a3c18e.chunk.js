(this.webpackJsonpaddons=this.webpackJsonpaddons||[]).push([[0],{55:function(e,a,t){e.exports=t(94)},92:function(e,a,t){},94:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(20),o=t.n(r),c=t(52),i=t(9),s=t(15),u=t(21),m=t(10),g=t(96),d=t(97),f=t(98),v=t(107),b=t(106),p=t(99),E=t(100),h=t(101),y=t(102),O=t(49),S=t(95),C=function(e,a){console.log("raiseEvent()");var t={eventName:e,customData:a};window.parent.postMessage(t,"*")},A=t(12),j=t(19),k=t(27),N=t.n(k),x={APAC:["Asia","Australia","New Zealand"],EMEA:["Central","North","South"],LATAM:["Andean","Brazil","Mexico","Southern-Cone"],NA:["East","Central","West","Canada","Government","Velocity","Channels"]},M=t(54),F=t(35),R=t.n(F),w=t(48),L=function(e,a,t){console.log("searchUser([".concat(t,"])"));var n,l=t.split(" "),r=[{type:"EXACT",fields:["state"],value:"active"}],o=Object(u.a)(l);try{for(o.s();!(n=o.n()).done;){var c=n.value;c&&r.push({type:"QUERY_STRING",fields:["name","email","title","department"],value:c})}}catch(s){o.e(s)}finally{o.f()}var i={pageSize:5,pageNumber:1,types:["users"],query:r,sortOrder:"ASC",sortBy:"name"};return fetch("https://api.".concat(e,"/api/v2/search?profile=false"),{method:"POST",headers:{Authorization:"bearer ".concat(a),"Content-Type":"application/json"},body:JSON.stringify(i)}).then((function(e){return e.json()})).then((function(e){if(e.status<200||e.status>299)throw new Error(JSON.stringify(e));return e.results&&e.results.length>0?e.results:[]}))};function T(e){return l.a.createElement("div",{style:{display:"flex",backgroundColor:"#dddddd",borderRadius:"2px",marginBottom:"4px",marginRight:"4px"}},l.a.createElement("div",{style:{fontSize:"0.8em",paddingLeft:"8px",lineHeight:"20px"}},e.name),l.a.createElement("div",null,l.a.createElement(O.a,{style:{height:"20px",lineHeight:"10px",color:"black"},color:"link",size:"sm",outline:!0,onClick:function(){e.onRemoveClick()}},l.a.createElement(A.f,null))))}var D="";function I(e){var a=Object(n.useState)(!1),t=Object(m.a)(a,2),r=t[0],o=t[1],c=Object(n.useState)(!1),i=Object(m.a)(c,2),s=i[0],u=i[1],g=Object(n.useState)(""),d=Object(m.a)(g,2),f=d[0],v=d[1],b=Object(n.useState)([]),p=Object(m.a)(b,2),E=p[0],h=p[1],y=Object(n.useState)([]),O=Object(m.a)(y,2),C=O[0],A=O[1];Object(n.useEffect)((function(){Array.isArray(e.initialValue)?A(e.initialValue):A([])}),[e.initialValue]);var j=function(){var a=Object(w.a)(R.a.mark((function a(t){var n;return R.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(console.log("searchForUser([".concat(t,"])")),D=t,v(t),!s){a.next=5;break}return a.abrupt("return");case 5:if(t&&!(t.length<3)){a.next=8;break}return h([]),a.abrupt("return");case 8:return u(!0),a.next=11,L("mypurecloud.com",e.token,t);case 11:n=a.sent,Array.isArray(n)?h(n.map((function(e){return e.name}))):h([]),u(!1),D!==t&&j(D);case 15:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return l.a.createElement("div",{style:e&&e.isDisabled?{pointerEvents:"none",backgroundColor:"#F2F2F2"}:{}},l.a.createElement("div",{style:{padding:"4px",border:"1px solid #cccccc",borderRadius:"4px"}},l.a.createElement("div",{style:{display:"flex",flexWrap:"wrap"}},Array.isArray(C)&&C.map((function(a,t){return l.a.createElement(T,{key:t,name:a,onRemoveClick:function(){var t=C.filter((function(e){return e!==a}));A(t),e.onChange(t)}})}))),l.a.createElement(S.a,{isDisabled:e.isDisabled,onFocus:function(){o(!0),h([])},onBlur:function(){setTimeout((function(){v(""),o(!1)}),200)},style:s?{backgroundColor:"#eeeeee"}:{},placeholder:"Search for user...",value:f||"",onChange:function(e){j(e.target.value)}}),r&&l.a.createElement(S.a,{type:"select",style:{height:"90px",position:"absolute"},multiple:!0,onChange:function(a){var t=a.target.options[a.target.selectedIndex].text;if((!t||!t.startsWith("Searching...")&&!t.startsWith("Type a name..."))&&Array.isArray(C)&&!C.includes(t)){var n=Object(M.a)(C);n.push(t),A(n),e.onChange(n)}}},s&&l.a.createElement("option",null,"Searching..."),!s&&(!f||f.length<3)&&l.a.createElement("option",null,"Type a name..."),!s&&Array.isArray(E)&&E.map((function(e,a){return l.a.createElement("option",{key:a},e)})))))}var q={isTest:!1,status:null,isDeleted:!1,handled:null,region:null,subRegion:null,product:null,segment:null,requester:null,programManager:null,teamMember:null,customerName:null};function G(e){var a=Object(n.useState)(null),t=Object(m.a)(a,2),r=t[0],o=t[1],c=Object(n.useState)(!1),i=Object(m.a)(c,2),k=i[0],M=i[1],F=Object(n.useState)("edit"),R=Object(m.a)(F,2),w=R[0],L=R[1],T=Object(n.useState)(""),D=Object(m.a)(T,2),G=D[0],z=D[1],B=Object(n.useState)(null),J=Object(m.a)(B,2),P=J[0],W=J[1],V=Object(n.useState)([]),U=Object(m.a)(V,2),H=U[0],Q=U[1],_=Object(n.useState)(!1),X=Object(m.a)(_,2),Y=X[0],Z=X[1],$=Object(n.useState)(q),K=Object(m.a)($,2),ee=K[0],ae=K[1],te=Object(n.useState)(!1),ne=Object(m.a)(te,2),le=ne[0],re=ne[1],oe=Object(n.useState)(!1),ce=Object(m.a)(oe,2),ie=ce[0],se=ce[1],ue=Object(n.useState)([]),me=Object(m.a)(ue,2),ge=me[0],de=me[1];Object(n.useEffect)((function(){var a=N.a.parse(e.location.search);console.log("parsedQueryString: ",a),o(a);var t=he(),n=t||q;n.isTest="localhost"===window.location.hostname,console.log("initialFilterSet.isTest: ",n.isTest),a&&a.requester?(console.log("fixed requester will be set to: ",a.requester),n.requester=[a.requester],se(!0)):a&&a.region&&"super-user"!==a.region.toLowerCase()&&(console.log("fixed region will be set to: ",a.region),n.region=[{value:a.region,label:a.region}],re(!0)),n.subRegion=Ae(n.region,n.subRegion),ae(n),Ce(n.region),C("applyFilter",n)}),[]);var fe=function(e){if(console.log("saveFilterNameValid() ",e),!e)return!1;return!(!(e&&e.length<=30&&/^(?=.*[^\W_])[\w ]*$/.test(e))||be(e))},ve="filter.configuration.list",be=function(e){console.log("localStorageGet()");var a=localStorage.getItem(ve);if(!a)return null;var t=JSON.parse(a);return Array.isArray(t)?t.filter((function(a){return a.name===e}))[0]:null},pe=function(e,a){console.log("localStorageSet()");var t=localStorage.getItem(ve),n=t?JSON.parse(t):[];if(Array.isArray(n)){var l=n.filter((function(a){return a.name!==e}));l.push({name:e,filterConfiguration:a}),localStorage.setItem(ve,JSON.stringify(l))}},Ee=function(e){console.log("localStorageDrop()");var a=localStorage.getItem(ve);if(a){var t=JSON.parse(a);if(Array.isArray(t)){var n=t.filter((function(a){return a.name!==e}));localStorage.setItem(ve,JSON.stringify(n))}}},he=function(e){console.log("localStorageGetLatestFilter");var a=localStorage.getItem("filter.configuration.latest");if(a)return JSON.parse(a)},ye=function(e){console.log("localStorageSetLatestFilter"),localStorage.setItem("filter.configuration.latest",JSON.stringify(e))},Oe=function(){console.log("localStorageDropLatestFilter"),localStorage.removeItem("filter.configuration.latest")},Se=function(){console.log("reloadFilterList()");var e=function(){console.log("localStorageGetAll()");var e=localStorage.getItem(ve);if(!e)return[];var a=JSON.parse(e);return Array.isArray(a)?a:[]}().map((function(e){return{value:e.name,label:e.name}}));console.log(e),Q(e),W(null)},Ce=function(e){if(console.log("applySubRegionList()"),Array.isArray(e)&&0!==e.length){var a,t=[],n=Object(u.a)(e);try{for(n.s();!(a=n.n()).done;){var l=a.value,r=x[l.value];if(Array.isArray(r)){var o,c=Object(u.a)(r);try{for(c.s();!(o=c.n()).done;){var i=o.value;t.push({value:"".concat(l.value,"/").concat(i),label:"".concat(l.value,"/").concat(i)})}}catch(s){c.e(s)}finally{c.f()}}}}catch(s){n.e(s)}finally{n.f()}de(t)}else de([])},Ae=function(e,a){console.log("removeSelectedSubregionsForNotSelectedRegions()");var t=[];if(!Array.isArray(e))return[];if(!Array.isArray(a))return[];var n,l=Object(u.a)(e);try{for(l.s();!(n=l.n()).done;){var r,o=n.value,c=Object(u.a)(a);try{for(c.s();!(r=c.n()).done;){var i=r.value;i.value.startsWith(o.value)&&t.push(i)}}catch(s){c.e(s)}finally{c.f()}}}catch(s){l.e(s)}finally{l.f()}return t};return l.a.createElement(l.a.Fragment,null,l.a.createElement(g.a,{color:"light"},l.a.createElement("span",{style:{fontWeight:"600"}},l.a.createElement(A.c,{style:{marginRight:"4px"}}),"Filter configuration"),l.a.createElement(d.a,{className:"ml-auto",navbar:!0},l.a.createElement(f.a,{isOpen:k,toggle:function(){return M((function(e){return!e}))}},l.a.createElement(v.a,{caret:!0},l.a.createElement(A.d,null)),l.a.createElement(b.a,{right:!0},l.a.createElement(p.a,{onClick:function(){console.log("handleMenuOptionLoad()"),Se(),Z(!1),L("load")}},l.a.createElement(A.b,null)," Filter list..."),l.a.createElement(p.a,{onClick:function(){console.log("handleMenuOptionSave()"),L("save")}},l.a.createElement(A.i,null)," Save filter as..."),l.a.createElement(p.a,{divider:!0}),l.a.createElement(p.a,{onClick:function(){console.log("handleMenuOptionClear()"),ae(q),Ce(q.region),C("clearFilter",{}),Oe()}},l.a.createElement(A.a,null)," Clear filter"))))),"load"===w&&l.a.createElement(E.a,{className:"p-3",style:Y?{backgroundColor:"mistyrose"}:{backgroundColor:"antiquewhite"}},l.a.createElement(h.a,null,"Filter list"),l.a.createElement(j.a,{isDisabled:Y,noOptionsMessage:function(){return"No filters configured yet"},className:"mb-3",options:H,isMulti:!1,isSearchable:!0,value:P,onChange:function(e){W(e);var a=be(e.value);a&&a.filterConfiguration&&(ae(a.filterConfiguration),Ce(a.filterConfiguration.region))}}),!Y&&l.a.createElement(y.a,{style:{textAlign:"center"},inline:!0},l.a.createElement(O.a,{outline:!0,size:"sm",color:"primary",className:"ml-2",onClick:function(){console.log("handleLoadApplyBtn()"),L("edit"),W(null),C("applyFilter",ee),ye(ee)},disabled:!P},l.a.createElement(A.g,null)," Apply"),l.a.createElement(O.a,{outline:!0,size:"sm",color:"danger",className:"ml-2",onClick:function(){console.log("handleLoadDeleteBtn()"),Z(!0)},disabled:!P},l.a.createElement(A.h,null)," Delete"),l.a.createElement(O.a,{outline:!0,size:"sm",color:"secondary",className:"ml-2",onClick:function(){console.log("handleLoadCloseBtn()"),L("edit"),W(null)}},l.a.createElement(A.f,null)," Close")),Y&&l.a.createElement(y.a,{style:{textAlign:"center"},inline:!0},l.a.createElement(O.a,{outline:!0,size:"sm",color:"secondary",className:"ml-2",onClick:function(){console.log("handleLoadDeleteCancelBtn()"),Z(!1)}},l.a.createElement(A.f,null)," Cancel"),l.a.createElement(O.a,{outline:!0,size:"sm",color:"danger",className:"ml-2",onClick:function(){console.log("handleLoadDeleteConfirmBtn()"),Z(!1),Ee(P.value),Se()},disabled:!P},l.a.createElement(A.h,null)," Confirm delete"))),"save"===w&&l.a.createElement(E.a,{className:"p-3",style:{backgroundColor:"antiquewhite"}},l.a.createElement(h.a,null,"Save filter as"),l.a.createElement(S.a,{type:"text",className:"form-control",placeholder:"Enter a name",value:G,onChange:function(e){console.log("handleSaveFilterNameChanged() ",e.target.value),z(e.target.value)}}),G&&!fe(G)&&l.a.createElement("span",{style:{color:"red",fontWeight:"600"}},"Please enter a valid and unique value"),l.a.createElement(y.a,{style:{textAlign:"center"},className:"mt-3",inline:!0},l.a.createElement(O.a,{outline:!0,size:"sm",color:"primary",className:"ml-2",onClick:function(){console.log("handleSaveOkBtn()"),pe(G,ee),z(""),L("edit")},disabled:!fe(G)},l.a.createElement(A.e,null)," Save"),l.a.createElement(O.a,{outline:!0,size:"sm",color:"secondary",className:"ml-2",onClick:function(){console.log("handleSaveCancelBtn()"),z(""),L("edit")}},l.a.createElement(A.f,null)," Cancel"))),l.a.createElement("div",{className:"edit"===w?"":"disabled"},l.a.createElement("div",{className:"p-3"},l.a.createElement("div",{className:"mb-3"},"Status",l.a.createElement(j.a,{options:[{value:"Open",label:"Open"},{value:"On Hold",label:"On Hold"},{value:"Waiting On Additional Information",label:"Waiting On Additional Information"},{value:"Closed",label:"Closed"}],isMulti:!0,isSearchable:!0,value:ee.status,onChange:function(e){console.log(e);var a=Object(s.a)({},ee);a.status=e,ae(a)}}),l.a.createElement(h.a,{check:!0,className:"ml-4"},l.a.createElement(S.a,{type:"checkbox",checked:ee.isDeleted,onChange:function(e){console.log(e.target.checked);var a=Object(s.a)({},ee);a.isDeleted=e.target.checked,ae(a)}})," ","Show deleted only")),l.a.createElement("div",{className:"mb-3"},"Handled",l.a.createElement(j.a,{options:[{value:"Accepted",label:"Accepted"},{value:"Rejected",label:"Rejected"},{value:"Unhandled",label:"Unhandled"}],isMulti:!0,isSearchable:!0,value:ee.handled,onChange:function(e){console.log(e);var a=Object(s.a)({},ee);a.handled=e,ae(a)}})),l.a.createElement("div",{className:"mb-3"},"Region",l.a.createElement(j.a,{isDisabled:le,options:[{value:"APAC",label:"APAC"},{value:"EMEA",label:"EMEA"},{value:"LATAM",label:"LATAM"},{value:"NA",label:"NA"}],isMulti:!0,isSearchable:!0,value:ee.region,onChange:function(e){console.log(e);var a=Object(s.a)({},ee);a.region=e,a.subRegion=Ae(a.region,a.subRegion),ae(a),Ce(a.region)}})),l.a.createElement("div",{className:"mb-3"},"Territory",l.a.createElement(j.a,{options:ge,isMulti:!0,isSearchable:!0,value:ee.subRegion,onChange:function(e){console.log(e);var a=Object(s.a)({},ee);a.subRegion=e,ae(a)}})),l.a.createElement("div",{className:"mb-3"},"Product",l.a.createElement(j.a,{options:[{value:"Genesys Cloud",label:"Genesys Cloud"},{value:"Genesys Engage",label:"Genesys Engage"},{value:"Genesys Engage Cloud",label:"Genesys Engage Cloud"},{value:"PureConnect",label:"PureConnect"},{value:"Latitude by Genesys",label:"Latitude by Genesys"}],isMulti:!0,isSearchable:!0,value:ee.product,onChange:function(e){console.log(e);var a=Object(s.a)({},ee);a.product=e,ae(a)}})),l.a.createElement("div",{className:"mb-3"},"Market segment",l.a.createElement(j.a,{options:[{value:"Mid-market",label:"Mid-market"},{value:"Commercial",label:"Commercial"},{value:"Enterprise",label:"Enterprise"}],isMulti:!0,isSearchable:!0,value:ee.segment,onChange:function(e){console.log(e);var a=Object(s.a)({},ee);a.segment=e,ae(a)}})),l.a.createElement("div",{className:"mb-3"},"Requester name",l.a.createElement(I,{isDisabled:ie,token:r&&r.token?r.token:null,initialValue:ee.requester,onChange:function(e){console.log(e);var a=Object(s.a)({},ee);a.requester=e,ae(a)}})),l.a.createElement("div",{className:"mb-3"},"Program manager",l.a.createElement(I,{token:r&&r.token?r.token:null,initialValue:ee.programManager,onChange:function(e){console.log(e);var a=Object(s.a)({},ee);a.programManager=e,ae(a)}})),l.a.createElement("div",{className:"mb-3"},"Team member",l.a.createElement(I,{token:r&&r.token?r.token:null,initialValue:ee.teamMember,onChange:function(e){console.log(e);var a=Object(s.a)({},ee);a.teamMember=e,ae(a)}})),l.a.createElement("div",{className:"mb-3"},"Customer name",l.a.createElement(S.a,{placeholder:"Enter a name",value:ee.customerName||"",onChange:function(e){console.log(e.target.value);var a=Object(s.a)({},ee);a.customerName=e.target.value,ae(a)}})),l.a.createElement("div",{className:"mb-3",style:{textAlign:"center"}},l.a.createElement(O.a,{outline:!0,onClick:function(){console.log("handleApplyFilters()"),C("applyFilter",ee),ye(ee)}},l.a.createElement(A.g,null)," Apply filter")))))}var z=t(103),B=t(104),J=t(105);function P(e){var a=Object(n.useState)(null),t=Object(m.a)(a,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){var a=N.a.parse(e.location.search);console.log("parsedQueryString: ",a),o(a)}),[]),l.a.createElement(l.a.Fragment,null,l.a.createElement(z.a,null,l.a.createElement(B.a,null,l.a.createElement(J.a,null,l.a.createElement("h1",null,l.a.createElement(A.g,null)," Admin Page"))),l.a.createElement(B.a,null,l.a.createElement(J.a,null,l.a.createElement("p",null,"Region: ",r&&r.region?r.region:"unknown")),l.a.createElement(J.a,null,l.a.createElement("p",null,"Token: ",r&&r.token?r.token:"unknown")))))}function W(e){return l.a.createElement("h1",null,"Invalid URL")}var V=function(){return l.a.createElement(c.a,null,l.a.createElement(i.a,{path:"/requestsfilter",component:G,exact:!0}),l.a.createElement(i.a,{path:"/adminpage",component:P,exact:!0}),l.a.createElement(i.a,{path:"/",component:W,exact:!0}))};t(92),t(93);o.a.render(l.a.createElement(V,null),document.getElementById("root"))}},[[55,1,2]]]);
//# sourceMappingURL=main.35a3c18e.chunk.js.map