{"version":3,"sources":["services/iFrameEvents.js","services/dictionary.js","services/gc.js","components/UsersSelect/UsersSelectItem.js","components/UsersSelect/UsersSelect.js","components/RequestsFilter/RequestsFilter.js","services/backend.js","components/AdminPage/AdminPage.js","components/InvalidUrl/InvalidUrl.js","routers/AppRouter.js","index.js"],"names":["raiseEvent","eventName","customData","console","log","message","window","parent","postMessage","regionList","APAC","EMEA","LATAM","NA","searchUser","env","token","pattern","patternParsed","split","query","type","fields","value","item","push","body","pageSize","pageNumber","types","sortOrder","sortBy","fetch","method","headers","Authorization","JSON","stringify","then","response","json","status","Error","results","length","UsersSelectItem","props","style","display","backgroundColor","borderRadius","marginBottom","marginRight","fontSize","paddingLeft","lineHeight","name","Button","height","color","size","outline","onClick","onRemoveClick","searchedPattern","UsersSelect","useState","focused","setFocused","searching","setSearching","searchPattern","setSearchPattern","searchResult","setSearchResult","selectedItems","setSelectedItems","useEffect","Array","isArray","initialValue","searchForUser","a","userList","map","x","isDisabled","pointerEvents","padding","border","flexWrap","i","key","si","filter","y","onChange","Input","onFocus","onBlur","setTimeout","placeholder","e","target","position","multiple","clickedText","options","selectedIndex","text","startsWith","includes","clearFilterSet","isTest","isDeleted","handled","created","region","subRegion","product","segment","requester","programManager","teamMember","customerName","RequestsFilter","setQuery","menuOpen","setMenuOpen","formMode","setFormMode","saveFilterName","setSaveFilterName","loadFilterSelectedItem","setLoadFilterSelectedItem","loadFilterItemList","setLoadFilterItemList","deleteFilterConfirm","setDeleteFilterConfirm","currentFilter","setCurrentFilter","regionFixed","setRegionFixed","requesterFixed","setRequesterFixed","subregionValueList","setSubregionValueList","parsedQueryString","queryString","parse","location","search","latestFilterSet","localStorageGetLatestFilter","initialFilterSet","hostname","toLowerCase","label","removeSelectedSubregionsForNotSelectedRegions","applySubRegionList","saveFilterNameValid","v","test","localStorageGet","filterConfigKey","resultString","localStorage","getItem","result","localStorageSet","filterConfiguration","resultClone","setItem","localStorageDrop","latestFilterStr","localStorageSetLatestFilter","localStorageDropLatestFilter","removeItem","reloadFilterList","itemList1","localStorageGetAll","subregionList","subregion","item1","Navbar","fontWeight","Nav","className","navbar","Dropdown","isOpen","toggle","prevState","DropdownToggle","caret","DropdownMenu","right","DropdownItem","divider","Form","Label","noOptionsMessage","isMulti","isSearchable","f","FormGroup","textAlign","inline","disabled","cf","check","checked","createdAt","searchMailConfiguration","category","inputProps","undefined","AdminPage","showSpinner","setShowSpinner","showWarning","setShowWarning","tags","setTags","mailConfigObj","setMailConfigObj","queryDynamo","genericFilter","resp","addresses","catch","NotificationManager","error","Container","url","href","replace","Row","Col","Alert","hidden","validationRegex","onlyUnique","Spinner","obj","id","uuid","success","err","InvalidUrl","AppRouter","path","component","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.2679b3dd.chunk.js","sourcesContent":["export const raiseEvent = (eventName, customData) => {\r\n  console.log('raiseEvent()');\r\n  const message = {\r\n    eventName: eventName,\r\n    customData: customData,\r\n  };\r\n  window.parent.postMessage(message, '*');\r\n};\r\n","export const regionList = {\r\n  APAC: ['ANZ', 'Japan', 'SEA', 'Korea', 'India', 'China'],\r\n  EMEA: ['Central', 'North', 'South'],\r\n  LATAM: ['Andean', 'Brazil', 'Mexico', 'Southern-Cone'],\r\n  NA: ['East', 'Central', 'West', 'Canada', 'Government', 'Velocity', 'Channels'],\r\n};\r\n","export const searchUser = (env, token, pattern) => {\r\n  console.log(`searchUser([${pattern}])`);\r\n  const patternParsed = pattern.split(\" \");\r\n  let query = [{ type: \"EXACT\", fields: [\"state\"], value: \"active\" }];\r\n  for (const item of patternParsed) {\r\n    if (!item) continue;\r\n    query.push({ type: \"QUERY_STRING\", fields: [\"name\", \"email\", \"title\", \"department\"], value: item });\r\n  }\r\n  const body = {\r\n    pageSize: 5,\r\n    pageNumber: 1,\r\n    types: [\"users\"],\r\n    query,\r\n    sortOrder: \"ASC\",\r\n    sortBy: \"name\",\r\n  };\r\n  return fetch(`https://api.${env}/api/v2/search?profile=false`, {\r\n    method: \"POST\",\r\n    headers: {\r\n      Authorization: `bearer ${token}`,\r\n      \"Content-Type\": \"application/json\",\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((response) => {\r\n      if (response.status < 200 || response.status > 299) throw new Error(JSON.stringify(response));\r\n      if (response.results && response.results.length > 0) {\r\n        return response.results;\r\n      }\r\n      return [];\r\n    });\r\n};\r\n","import React from \"react\";\r\nimport { Button } from \"reactstrap\";\r\nimport { IoMdClose } from \"react-icons/io\";\r\n\r\nexport default function UsersSelectItem(props) {\r\n  return (\r\n    <div style={{ display: \"flex\", backgroundColor: \"#dddddd\", borderRadius: \"2px\", marginBottom: \"4px\", marginRight: \"4px\" }}>\r\n      <div style={{ fontSize: \"0.8em\", paddingLeft: \"8px\", lineHeight: \"20px\" }}>{props.name}</div>\r\n      <div>\r\n        <Button\r\n          style={{ height: \"20px\", lineHeight: \"10px\", color: \"black\" }}\r\n          color=\"link\"\r\n          size=\"sm\"\r\n          outline\r\n          onClick={() => {\r\n            props.onRemoveClick();\r\n          }}\r\n        >\r\n          <IoMdClose />\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Input } from \"reactstrap\";\r\nimport { searchUser } from \"../../services/gc\";\r\nimport UsersSelectItem from \"./UsersSelectItem\";\r\n\r\nvar searchedPattern = \"\";\r\n\r\nexport default function UsersSelect(props) {\r\n  const [focused, setFocused] = useState(false);\r\n  const [searching, setSearching] = useState(false);\r\n  const [searchPattern, setSearchPattern] = useState(\"\");\r\n  const [searchResult, setSearchResult] = useState([]);\r\n  const [selectedItems, setSelectedItems] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (Array.isArray(props.initialValue)) {\r\n      setSelectedItems(props.initialValue);\r\n    } else {\r\n      setSelectedItems([]);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [props.initialValue]);\r\n\r\n  const searchForUser = async (pattern) => {\r\n    console.log(`searchForUser([${pattern}])`);\r\n    searchedPattern = pattern;\r\n    setSearchPattern(pattern);\r\n    if (searching) return;\r\n    if (!pattern || pattern.length < 3) {\r\n      setSearchResult([]);\r\n      return;\r\n    }\r\n    setSearching(true);\r\n    const userList = await searchUser(\"mypurecloud.com\", props.token, pattern);\r\n    if (Array.isArray(userList)) {\r\n      setSearchResult(userList.map((x) => x.name));\r\n    } else {\r\n      setSearchResult([]);\r\n    }\r\n    setSearching(false);\r\n    if (searchedPattern !== pattern) {\r\n      searchForUser(searchedPattern);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div style={props && props.isDisabled ? { pointerEvents: \"none\", backgroundColor: \"#F2F2F2\" } : {}}>\r\n      <div style={{ padding: \"4px\", border: \"1px solid #cccccc\", borderRadius: \"4px\" }}>\r\n        <div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n          {Array.isArray(selectedItems) &&\r\n            selectedItems.map((x, i) => {\r\n              return (\r\n                <UsersSelectItem\r\n                  key={i}\r\n                  name={x}\r\n                  onRemoveClick={() => {\r\n                    let si = selectedItems.filter((y) => y !== x);\r\n                    setSelectedItems(si);\r\n                    props.onChange(si);\r\n                  }}\r\n                />\r\n              );\r\n            })}\r\n        </div>\r\n        <Input\r\n          isDisabled={props.isDisabled}\r\n          onFocus={() => {\r\n            setFocused(true);\r\n            setSearchResult([]);\r\n          }}\r\n          onBlur={() => {\r\n            // timeout to allow handle a click event on the selected item\r\n            setTimeout(() => {\r\n              setSearchPattern(\"\");\r\n              setFocused(false);\r\n            }, 200);\r\n          }}\r\n          style={searching ? { backgroundColor: \"#eeeeee\" } : {}}\r\n          placeholder=\"Search for user...\"\r\n          value={searchPattern || \"\"}\r\n          onChange={(e) => {\r\n            searchForUser(e.target.value);\r\n          }}\r\n        />\r\n        {focused && (\r\n          <Input\r\n            type=\"select\"\r\n            style={{ height: \"90px\", position: \"absolute\" }}\r\n            multiple\r\n            onChange={(x) => {\r\n              const clickedText = x.target.options[x.target.selectedIndex].text;\r\n              if (clickedText && (clickedText.startsWith(\"Searching...\") || clickedText.startsWith(\"Type a name...\"))) {\r\n                return;\r\n              }\r\n              if (Array.isArray(selectedItems) && !selectedItems.includes(clickedText)) {\r\n                let si = [...selectedItems];\r\n                si.push(clickedText);\r\n                setSelectedItems(si);\r\n                props.onChange(si);\r\n              }\r\n            }}\r\n          >\r\n            {searching && <option>Searching...</option>}\r\n            {!searching && (!searchPattern || searchPattern.length < 3) && <option>Type a name...</option>}\r\n            {!searching &&\r\n              Array.isArray(searchResult) &&\r\n              searchResult.map((x, i) => {\r\n                return <option key={i}>{x}</option>;\r\n              })}\r\n          </Input>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Navbar, Nav, Button, Dropdown, DropdownToggle, DropdownMenu, DropdownItem, Label, Form, FormGroup, Input } from 'reactstrap';\r\nimport { raiseEvent } from '../../services/iFrameEvents';\r\nimport { IoIosMenu, IoMdSave, IoIosFolderOpen, IoMdFlash, IoMdCheckmark, IoMdClose, IoMdRemoveCircleOutline, IoIosBackspace, IoIosFunnel } from 'react-icons/io';\r\nimport Select from 'react-select';\r\nimport queryString from 'query-string';\r\nimport { regionList } from '../../services/dictionary';\r\nimport UsersSelect from '../UsersSelect/UsersSelect';\r\n\r\nvar clearFilterSet = { isTest: false, status: null, isDeleted: false, handled: null, created: null, region: null, subRegion: null, product: null, segment: null, requester: null, programManager: null, teamMember: null, customerName: null };\r\n\r\nexport default function RequestsFilter(props) {\r\n  //#region \"value lists\"\r\n  const statusValueList = [\r\n    { value: 'Open', label: 'Open' },\r\n    { value: 'On Hold', label: 'On Hold' },\r\n    { value: 'Waiting On Additional Information', label: 'Waiting On Additional Information' },\r\n    { value: 'Closed', label: 'Closed' },\r\n  ];\r\n\r\n  const createdValueList = [\r\n    { value: 'Last30Days', label: 'Last 30 Days' },\r\n    { value: 'CurrentMonth', label: 'Current Month' },\r\n    { value: 'LastMonth', label: 'Last Month' },\r\n  ];\r\n\r\n  const handledValueList = [\r\n    { value: 'Accepted', label: 'Accepted' },\r\n    { value: 'Rejected', label: 'Rejected' },\r\n    { value: 'Unhandled', label: 'Unhandled' },\r\n  ];\r\n\r\n  const regionValueList = [\r\n    { value: 'APAC', label: 'APAC' },\r\n    { value: 'EMEA', label: 'EMEA' },\r\n    { value: 'LATAM', label: 'LATAM' },\r\n    { value: 'NA', label: 'NA' },\r\n  ];\r\n\r\n  const marketSegmentValueList = [\r\n    { value: 'Mid-market', label: 'Mid-market' },\r\n    { value: 'Commercial', label: 'Commercial' },\r\n    { value: 'Enterprise', label: 'Enterprise' },\r\n  ];\r\n\r\n  const productValueList = [\r\n    { value: 'Genesys Cloud', label: 'Genesys Cloud' },\r\n    { value: 'Genesys Engage', label: 'Genesys Engage' },\r\n    { value: 'Genesys Engage Cloud', label: 'Genesys Engage Cloud' },\r\n    { value: 'PureConnect', label: 'PureConnect' },\r\n    { value: 'Latitude by Genesys', label: 'Latitude by Genesys' },\r\n  ];\r\n  //#endregion\r\n\r\n  //#region \"state\"\r\n  const [query, setQuery] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [formMode, setFormMode] = useState('edit'); // values: edit, save, load\r\n  const [saveFilterName, setSaveFilterName] = useState('');\r\n  const [loadFilterSelectedItem, setLoadFilterSelectedItem] = useState(null);\r\n  const [loadFilterItemList, setLoadFilterItemList] = useState([]);\r\n  const [deleteFilterConfirm, setDeleteFilterConfirm] = useState(false);\r\n  const [currentFilter, setCurrentFilter] = useState(clearFilterSet);\r\n  const [regionFixed, setRegionFixed] = useState(false);\r\n  const [requesterFixed, setRequesterFixed] = useState(false);\r\n  const [subregionValueList, setSubregionValueList] = useState([]);\r\n  //#endregion\r\n\r\n  //#region \"initialization\"\r\n\r\n  useEffect(() => {\r\n    // <parse query string>\r\n    const parsedQueryString = queryString.parse(props.location.search);\r\n    console.log('parsedQueryString: ', parsedQueryString);\r\n    setQuery(parsedQueryString);\r\n    // </parse query string>\r\n    const latestFilterSet = localStorageGetLatestFilter();\r\n    let initialFilterSet = latestFilterSet ? latestFilterSet : clearFilterSet;\r\n    initialFilterSet.isTest = window.location.hostname === 'localhost';\r\n    console.log('initialFilterSet.isTest: ', initialFilterSet.isTest);\r\n\r\n    if (parsedQueryString && parsedQueryString.requester) {\r\n      // <Apply requester settings>\r\n      console.log('fixed requester will be set to: ', parsedQueryString.requester);\r\n      initialFilterSet.requester = [parsedQueryString.requester];\r\n      setRequesterFixed(true);\r\n      // </Apply requester settings>\r\n    } else if (parsedQueryString && parsedQueryString.region && parsedQueryString.region.toLowerCase() !== 'super-user') {\r\n      // <Apply region settings>\r\n      console.log('fixed region will be set to: ', parsedQueryString.region);\r\n      initialFilterSet.region = [{ value: parsedQueryString.region, label: parsedQueryString.region }];\r\n      setRegionFixed(true);\r\n      // <Apply region settings>\r\n    }\r\n\r\n    initialFilterSet.subRegion = removeSelectedSubregionsForNotSelectedRegions(initialFilterSet.region, initialFilterSet.subRegion); // do not remove it from here\r\n    setCurrentFilter(initialFilterSet);\r\n    applySubRegionList(initialFilterSet.region);\r\n    raiseEvent('applyFilter', initialFilterSet);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  //#endregion\r\n\r\n  //#region \"controls handlers\"\r\n  const toggleMenuOpen = () => setMenuOpen((prevState) => !prevState);\r\n\r\n  const handleApplyFilters = () => {\r\n    console.log('handleApplyFilters()');\r\n    raiseEvent('applyFilter', currentFilter);\r\n    localStorageSetLatestFilter(currentFilter);\r\n  };\r\n\r\n  const handleMenuOptionLoad = () => {\r\n    console.log('handleMenuOptionLoad()');\r\n    reloadFilterList();\r\n    setDeleteFilterConfirm(false);\r\n    setFormMode('load');\r\n  };\r\n\r\n  const handleMenuOptionSave = () => {\r\n    console.log('handleMenuOptionSave()');\r\n    setFormMode('save');\r\n  };\r\n\r\n  const handleMenuOptionClear = () => {\r\n    console.log('handleMenuOptionClear()');\r\n    setCurrentFilter(clearFilterSet);\r\n    applySubRegionList(clearFilterSet.region);\r\n    raiseEvent('clearFilter', {});\r\n    localStorageDropLatestFilter();\r\n  };\r\n\r\n  const handleSaveOkBtn = () => {\r\n    console.log('handleSaveOkBtn()');\r\n    localStorageSet(saveFilterName, currentFilter);\r\n    setSaveFilterName('');\r\n    setFormMode('edit');\r\n  };\r\n\r\n  const handleSaveCancelBtn = () => {\r\n    console.log('handleSaveCancelBtn()');\r\n    setSaveFilterName('');\r\n    setFormMode('edit');\r\n  };\r\n\r\n  const handleSaveFilterNameChanged = (v) => {\r\n    console.log('handleSaveFilterNameChanged() ', v.target.value);\r\n    setSaveFilterName(v.target.value);\r\n  };\r\n\r\n  const handleLoadApplyBtn = () => {\r\n    console.log('handleLoadApplyBtn()');\r\n    setFormMode('edit');\r\n    setLoadFilterSelectedItem(null);\r\n    raiseEvent('applyFilter', currentFilter);\r\n    localStorageSetLatestFilter(currentFilter);\r\n  };\r\n\r\n  const handleLoadDeleteBtn = () => {\r\n    console.log('handleLoadDeleteBtn()');\r\n    setDeleteFilterConfirm(true);\r\n  };\r\n\r\n  const handleLoadCloseBtn = () => {\r\n    console.log('handleLoadCloseBtn()');\r\n    setFormMode('edit');\r\n    setLoadFilterSelectedItem(null);\r\n  };\r\n\r\n  const handleLoadDeleteConfirmBtn = () => {\r\n    console.log('handleLoadDeleteConfirmBtn()');\r\n    setDeleteFilterConfirm(false);\r\n    localStorageDrop(loadFilterSelectedItem.value);\r\n    reloadFilterList();\r\n  };\r\n\r\n  const handleLoadDeleteCancelBtn = () => {\r\n    console.log('handleLoadDeleteCancelBtn()');\r\n    setDeleteFilterConfirm(false);\r\n  };\r\n\r\n  //#endregion\r\n\r\n  //#region \"validators\"\r\n  const saveFilterNameValid = (v) => {\r\n    console.log('saveFilterNameValid() ', v);\r\n    if (!v) return false;\r\n    const pattern = /^(?=.*[^\\W_])[\\w ]*$/;\r\n    if (v && v.length <= 30 && pattern.test(v) && !localStorageGet(v)) return true;\r\n    return false;\r\n  };\r\n  //#endregion\r\n\r\n  //#region \"local storage\"\r\n\r\n  const filterConfigKey = 'filter.configuration.list';\r\n  const latestFilterKey = 'filter.configuration.latest';\r\n\r\n  const localStorageGetAll = () => {\r\n    console.log('localStorageGetAll()');\r\n    const resultString = localStorage.getItem(filterConfigKey);\r\n    if (!resultString) return [];\r\n    const result = JSON.parse(resultString);\r\n    return Array.isArray(result) ? result : [];\r\n  };\r\n\r\n  const localStorageGet = (name) => {\r\n    console.log('localStorageGet()');\r\n    const resultString = localStorage.getItem(filterConfigKey);\r\n    if (!resultString) return null;\r\n    const result = JSON.parse(resultString);\r\n    return Array.isArray(result) ? result.filter((x) => x.name === name)[0] : null;\r\n  };\r\n\r\n  const localStorageSet = (name, filterConfiguration) => {\r\n    console.log('localStorageSet()');\r\n    const resultString = localStorage.getItem(filterConfigKey);\r\n    const result = resultString ? JSON.parse(resultString) : [];\r\n    if (!Array.isArray(result)) return;\r\n    let resultClone = result.filter((x) => x.name !== name);\r\n    resultClone.push({ name, filterConfiguration });\r\n    localStorage.setItem(filterConfigKey, JSON.stringify(resultClone));\r\n  };\r\n\r\n  const localStorageDrop = (name) => {\r\n    console.log('localStorageDrop()');\r\n    const resultString = localStorage.getItem(filterConfigKey);\r\n    if (!resultString) return;\r\n    const result = JSON.parse(resultString);\r\n    if (!Array.isArray(result)) return;\r\n    const resultClone = result.filter((x) => x.name !== name);\r\n    localStorage.setItem(filterConfigKey, JSON.stringify(resultClone));\r\n  };\r\n\r\n  const localStorageGetLatestFilter = (filterConfiguration) => {\r\n    console.log('localStorageGetLatestFilter');\r\n    const latestFilterStr = localStorage.getItem(latestFilterKey);\r\n    if (latestFilterStr) {\r\n      return JSON.parse(latestFilterStr);\r\n    }\r\n  };\r\n\r\n  const localStorageSetLatestFilter = (filterConfiguration) => {\r\n    console.log('localStorageSetLatestFilter');\r\n    localStorage.setItem(latestFilterKey, JSON.stringify(filterConfiguration));\r\n  };\r\n\r\n  const localStorageDropLatestFilter = () => {\r\n    console.log('localStorageDropLatestFilter');\r\n    localStorage.removeItem(latestFilterKey);\r\n  };\r\n\r\n  //#endregion\r\n\r\n  //#region \"misc\"\r\n\r\n  const reloadFilterList = () => {\r\n    console.log('reloadFilterList()');\r\n    const itemList = localStorageGetAll();\r\n    const itemList1 = itemList.map((x) => {\r\n      return { value: x.name, label: x.name };\r\n    });\r\n    console.log(itemList1);\r\n    setLoadFilterItemList(itemList1);\r\n    setLoadFilterSelectedItem(null);\r\n  };\r\n\r\n  const applySubRegionList = (region) => {\r\n    console.log('applySubRegionList()');\r\n    if (!Array.isArray(region) || region.length === 0) {\r\n      setSubregionValueList([]);\r\n      return;\r\n    }\r\n    let result = [];\r\n    for (const item of region) {\r\n      const subregionList = regionList[item.value];\r\n      if (Array.isArray(subregionList)) {\r\n        for (const subregion of subregionList) {\r\n          result.push({ value: `${item.value}/${subregion}`, label: `${item.value}/${subregion}` });\r\n        }\r\n      }\r\n    }\r\n    setSubregionValueList(result);\r\n  };\r\n\r\n  const removeSelectedSubregionsForNotSelectedRegions = (region, subRegion) => {\r\n    console.log('removeSelectedSubregionsForNotSelectedRegions()');\r\n\r\n    let result = [];\r\n    if (!Array.isArray(region)) return [];\r\n    if (!Array.isArray(subRegion)) return [];\r\n    for (const item of region) {\r\n      for (const item1 of subRegion) {\r\n        if (item1.value.startsWith(item.value)) {\r\n          result.push(item1);\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  };\r\n\r\n  //#endregion\r\n\r\n  return (\r\n    <>\r\n      {/* <Header> */}\r\n      <Navbar color=\"light\">\r\n        <span style={{ fontWeight: '600' }}>\r\n          <IoIosFunnel style={{ marginRight: '4px' }} />\r\n          Filter configuration\r\n        </span>\r\n        <Nav className=\"ml-auto\" navbar>\r\n          <Dropdown isOpen={menuOpen} toggle={toggleMenuOpen}>\r\n            <DropdownToggle caret>\r\n              <IoIosMenu />\r\n            </DropdownToggle>\r\n            <DropdownMenu right>\r\n              <DropdownItem onClick={handleMenuOptionLoad}>\r\n                <IoIosFolderOpen /> Filter list...\r\n              </DropdownItem>\r\n              <DropdownItem onClick={handleMenuOptionSave}>\r\n                <IoMdSave /> Save filter as...\r\n              </DropdownItem>\r\n              <DropdownItem divider />\r\n              <DropdownItem onClick={handleMenuOptionClear}>\r\n                <IoIosBackspace /> Clear filter\r\n              </DropdownItem>\r\n            </DropdownMenu>\r\n          </Dropdown>\r\n        </Nav>\r\n      </Navbar>\r\n      {/* </Header> */}\r\n\r\n      {/* <Load filter> */}\r\n      {formMode === 'load' && (\r\n        <Form className=\"p-3\" style={deleteFilterConfirm ? { backgroundColor: 'mistyrose' } : { backgroundColor: 'antiquewhite' }}>\r\n          <Label>Filter list</Label>\r\n          <Select\r\n            isDisabled={deleteFilterConfirm}\r\n            noOptionsMessage={() => 'No filters configured yet'}\r\n            className=\"mb-3\"\r\n            options={loadFilterItemList}\r\n            isMulti={false}\r\n            isSearchable={true}\r\n            value={loadFilterSelectedItem}\r\n            onChange={(v) => {\r\n              setLoadFilterSelectedItem(v);\r\n              const f = localStorageGet(v.value);\r\n              if (f && f.filterConfiguration) {\r\n                setCurrentFilter(f.filterConfiguration);\r\n                applySubRegionList(f.filterConfiguration.region);\r\n              }\r\n            }}\r\n          />\r\n          {!deleteFilterConfirm && (\r\n            <FormGroup style={{ textAlign: 'center' }} inline>\r\n              <Button outline size=\"sm\" color=\"primary\" className=\"ml-2\" onClick={handleLoadApplyBtn} disabled={!loadFilterSelectedItem}>\r\n                <IoMdFlash /> Apply\r\n              </Button>\r\n              <Button outline size=\"sm\" color=\"danger\" className=\"ml-2\" onClick={handleLoadDeleteBtn} disabled={!loadFilterSelectedItem}>\r\n                <IoMdRemoveCircleOutline /> Delete\r\n              </Button>\r\n              <Button outline size=\"sm\" color=\"secondary\" className=\"ml-2\" onClick={handleLoadCloseBtn}>\r\n                <IoMdClose /> Close\r\n              </Button>\r\n            </FormGroup>\r\n          )}\r\n          {deleteFilterConfirm && (\r\n            <FormGroup style={{ textAlign: 'center' }} inline>\r\n              <Button outline size=\"sm\" color=\"secondary\" className=\"ml-2\" onClick={handleLoadDeleteCancelBtn}>\r\n                <IoMdClose /> Cancel\r\n              </Button>\r\n              <Button outline size=\"sm\" color=\"danger\" className=\"ml-2\" onClick={handleLoadDeleteConfirmBtn} disabled={!loadFilterSelectedItem}>\r\n                <IoMdRemoveCircleOutline /> Confirm delete\r\n              </Button>\r\n            </FormGroup>\r\n          )}\r\n        </Form>\r\n      )}\r\n      {/* </Load filter> */}\r\n\r\n      {/* <Save filter> */}\r\n      {formMode === 'save' && (\r\n        <Form className=\"p-3\" style={{ backgroundColor: 'antiquewhite' }}>\r\n          <Label>Save filter as</Label>\r\n          <Input type=\"text\" className=\"form-control\" placeholder=\"Enter a name\" value={saveFilterName} onChange={handleSaveFilterNameChanged} />\r\n          {saveFilterName && !saveFilterNameValid(saveFilterName) && <span style={{ color: 'red', fontWeight: '600' }}>Please enter a valid and unique value</span>}\r\n          <FormGroup style={{ textAlign: 'center' }} className=\"mt-3\" inline>\r\n            <Button outline size=\"sm\" color=\"primary\" className=\"ml-2\" onClick={handleSaveOkBtn} disabled={!saveFilterNameValid(saveFilterName)}>\r\n              <IoMdCheckmark /> Save\r\n            </Button>\r\n            <Button outline size=\"sm\" color=\"secondary\" className=\"ml-2\" onClick={handleSaveCancelBtn}>\r\n              <IoMdClose /> Cancel\r\n            </Button>\r\n          </FormGroup>\r\n        </Form>\r\n      )}\r\n      {/* </Save filter> */}\r\n\r\n      {/* <Filter configuration> */}\r\n      <div className={formMode === 'edit' ? '' : 'disabled'}>\r\n        <div className=\"p-3\">\r\n          <div className=\"mb-3\">\r\n            Status\r\n            <Select\r\n              options={statusValueList}\r\n              isMulti={true}\r\n              isSearchable={true}\r\n              value={currentFilter.status}\r\n              onChange={(v) => {\r\n                console.log(v);\r\n                let cf = { ...currentFilter };\r\n                cf.status = v;\r\n                setCurrentFilter(cf);\r\n              }}\r\n            />\r\n            <Label check className=\"ml-4\">\r\n              <Input\r\n                type=\"checkbox\"\r\n                checked={currentFilter.isDeleted}\r\n                onChange={(v) => {\r\n                  console.log(v.target.checked);\r\n                  let cf = { ...currentFilter };\r\n                  cf.isDeleted = v.target.checked;\r\n                  setCurrentFilter(cf);\r\n                }}\r\n              />{' '}\r\n              Show deleted only\r\n            </Label>\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            Created\r\n            <Select\r\n              options={createdValueList}\r\n              isMulti={false}\r\n              isSearchable={true}\r\n              value={currentFilter.createdAt}\r\n              onChange={(v) => {\r\n                console.log(v);\r\n                let cf = { ...currentFilter };\r\n                cf.createdAt = v;\r\n                setCurrentFilter(cf);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            Handled\r\n            <Select\r\n              options={handledValueList}\r\n              isMulti={true}\r\n              isSearchable={true}\r\n              value={currentFilter.handled}\r\n              onChange={(v) => {\r\n                console.log(v);\r\n                let cf = { ...currentFilter };\r\n                cf.handled = v;\r\n                setCurrentFilter(cf);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            Region\r\n            <Select\r\n              isDisabled={regionFixed}\r\n              options={regionValueList}\r\n              isMulti={true}\r\n              isSearchable={true}\r\n              value={currentFilter.region}\r\n              onChange={(v) => {\r\n                console.log(v);\r\n                let cf = { ...currentFilter };\r\n                cf.region = v;\r\n                cf.subRegion = removeSelectedSubregionsForNotSelectedRegions(cf.region, cf.subRegion);\r\n                setCurrentFilter(cf);\r\n                applySubRegionList(cf.region);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            Territory\r\n            <Select\r\n              options={subregionValueList}\r\n              isMulti={true}\r\n              isSearchable={true}\r\n              value={currentFilter.subRegion}\r\n              onChange={(v) => {\r\n                console.log(v);\r\n                let cf = { ...currentFilter };\r\n                cf.subRegion = v;\r\n                setCurrentFilter(cf);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            Product\r\n            <Select\r\n              options={productValueList}\r\n              isMulti={true}\r\n              isSearchable={true}\r\n              value={currentFilter.product}\r\n              onChange={(v) => {\r\n                console.log(v);\r\n                let cf = { ...currentFilter };\r\n                cf.product = v;\r\n                setCurrentFilter(cf);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            Market segment\r\n            <Select\r\n              options={marketSegmentValueList}\r\n              isMulti={true}\r\n              isSearchable={true}\r\n              value={currentFilter.segment}\r\n              onChange={(v) => {\r\n                console.log(v);\r\n                let cf = { ...currentFilter };\r\n                cf.segment = v;\r\n                setCurrentFilter(cf);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            Requester name\r\n            <UsersSelect\r\n              isDisabled={requesterFixed}\r\n              token={query && query.token ? query.token : null}\r\n              initialValue={currentFilter.requester}\r\n              onChange={(v) => {\r\n                console.log(v);\r\n                let cf = { ...currentFilter };\r\n                cf.requester = v;\r\n                setCurrentFilter(cf);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            Program manager\r\n            <UsersSelect\r\n              token={query && query.token ? query.token : null}\r\n              initialValue={currentFilter.programManager}\r\n              onChange={(v) => {\r\n                console.log(v);\r\n                let cf = { ...currentFilter };\r\n                cf.programManager = v;\r\n                setCurrentFilter(cf);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            Team member\r\n            <UsersSelect\r\n              token={query && query.token ? query.token : null}\r\n              initialValue={currentFilter.teamMember}\r\n              onChange={(v) => {\r\n                console.log(v);\r\n                let cf = { ...currentFilter };\r\n                cf.teamMember = v;\r\n                setCurrentFilter(cf);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\">\r\n            Customer name\r\n            <Input\r\n              placeholder=\"Enter a name\"\r\n              value={currentFilter.customerName || ''}\r\n              onChange={(e) => {\r\n                console.log(e.target.value);\r\n                let cf = { ...currentFilter };\r\n                cf.customerName = e.target.value;\r\n                setCurrentFilter(cf);\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"mb-3\" style={{ textAlign: 'center' }}>\r\n            <Button outline onClick={handleApplyFilters}>\r\n              <IoMdFlash /> Apply filter\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* </Filter configuration> */}\r\n    </>\r\n  );\r\n}\r\n","export const searchMailConfiguration = (token, query) => {\r\n  console.log(`searchMailConfiguration ${JSON.stringify(query)}`);\r\n\r\n  const body = {\r\n    token: token,\r\n    region: query.region,\r\n    product: query.product,\r\n    category: query.category,\r\n  };\r\n  return fetch(`http://localhost:3000/mailconfig`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((response) => {\r\n      if (response.status < 200 || response.status > 299) throw new Error(JSON.stringify(response));\r\n      if (response && response.length > 0) {\r\n        return response;\r\n      }\r\n      return [];\r\n    });\r\n};\r\n\r\nexport const updateMailConfiguration = (body) => {\r\n  console.log(`updateMailConfiguration ${JSON.stringify(body)}`);\r\n\r\n  return fetch(`http://localhost:3000/mailconfig`, {\r\n    method: 'PUT',\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n    body: JSON.stringify(body),\r\n  })\r\n    .then((response) => response.json())\r\n    .then((response) => {\r\n      if (response.status < 200 || response.status > 299) throw new Error(JSON.stringify(response));\r\n      if (response && response.length > 0) {\r\n        return response;\r\n      }\r\n      return [];\r\n    });\r\n};\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Container, Row, Col, Button, Spinner, Alert } from 'reactstrap';\r\nimport { BiSave, BiMailSend, BiX } from 'react-icons/bi';\r\nimport uuid from 'react-uuid';\r\nimport Select from 'react-select';\r\n\r\nimport { searchMailConfiguration, updateMailConfiguration } from '../../services/backend';\r\nimport TagsInput from 'react-tagsinput';\r\nimport 'react-tagsinput/react-tagsinput.css';\r\nimport 'react-notifications/lib/notifications.css';\r\nimport { NotificationContainer, NotificationManager } from 'react-notifications';\r\n\r\nimport queryString from 'query-string';\r\n\r\nconst inputProps = {\r\n  placeholder: 'Add mail address',\r\n};\r\n\r\nlet clearFilterSet = { region: undefined, product: undefined, category: undefined };\r\n\r\nexport default function AdminPage(props) {\r\n  //#region \"state\"\r\n  const [showSpinner, setShowSpinner] = useState(false);\r\n  const [showWarning, setShowWarning] = useState(false);\r\n  const [query, setQuery] = useState(null);\r\n  const [tags, setTags] = useState([]);\r\n  const [mailConfigObj, setMailConfigObj] = useState(null);\r\n\r\n  const [currentFilter, setCurrentFilter] = useState(clearFilterSet);\r\n  //#endregion\r\n\r\n  //#region \"initialization\"\r\n\r\n  const regionList = [\r\n    { value: 'EMEA', label: 'EMEA' },\r\n    { value: 'NA', label: 'NA' },\r\n    { value: 'LATAM', label: 'LATAM' },\r\n    { value: 'APAC', label: 'APAC' },\r\n  ];\r\n\r\n  const productList = [\r\n    { value: 'Genesys Cloud', label: 'Genesys Cloud' },\r\n    { value: 'PureConnect', label: 'PureConnect' },\r\n    { value: 'Genesys Engage', label: 'Genesys Engage' },\r\n    { value: 'Genesys Engage Cloud', label: 'Genesys Engage Cloud' },\r\n    { value: 'Latitude by Genesys', label: 'Latitude by Genesys' },\r\n  ];\r\n\r\n  const categoryList = [\r\n    { value: '<default>', label: '<default>' },\r\n    { value: 'Critical Situation Support', label: 'Critical Situation Support' },\r\n    { value: 'Customer Success Program', label: 'Customer Success Program' },\r\n    { value: 'Demo & Trial Support', label: 'Demo & Trial Support' },\r\n    { value: 'Enablement', label: 'Enablement' },\r\n    { value: 'Opportunity Support', label: 'Opportunity Support' },\r\n    { value: 'Privacy Support', label: 'Privacy Support' },\r\n    { value: 'Roadmap', label: 'Roadmap' },\r\n    { value: 'RR Extension', label: 'RR Extension' },\r\n    { value: 'Security Support', label: 'Security Support' },\r\n    { value: 'Specialist Engagement', label: 'Specialist Engagement' },\r\n    { value: 'Strategic Business Consulting', label: 'Strategic Business Consulting' },\r\n    { value: 'Other Request', label: 'Other Request' },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    // <parse query string>\r\n    const parsedQueryString = queryString.parse(props.location.search);\r\n    console.log('parsedQueryString: ', parsedQueryString);\r\n    setQuery(parsedQueryString);\r\n    // </parse query string>\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  //#endregion\r\n\r\n  const handleChange = (tags) => {\r\n    console.log(tags);\r\n    setTags(tags);\r\n  };\r\n\r\n  const queryDynamo = (filter) => {\r\n    if (filter.region && filter.product && filter.category) {\r\n      let genericFilter = { ...filter };\r\n      console.log('queryDynamo()', filter);\r\n      if (filter.category === '<default>') genericFilter.category = undefined;\r\n      setShowWarning(false);\r\n      setShowSpinner(true);\r\n      setMailConfigObj(null);\r\n      searchMailConfiguration(query.token, genericFilter)\r\n        .then((resp) => {\r\n          console.log('we have got response !');\r\n          console.log(resp);\r\n          if (resp.length === 0) {\r\n            // No results, remove category Filter & search Again\r\n            genericFilter.category = undefined;\r\n            searchMailConfiguration(query.token, genericFilter)\r\n              .then((resp) => {\r\n                setShowWarning(true);\r\n                setTags(resp[0].addresses);\r\n                setMailConfigObj(resp[0]);\r\n                setShowSpinner(false);\r\n              })\r\n              .catch(() => {\r\n                NotificationManager.error('Failed to get configuration objects', 'Error', 3000);\r\n                setShowSpinner(false);\r\n              });\r\n          } else {\r\n            setTags(resp[0].addresses);\r\n            setMailConfigObj(resp[0]);\r\n            setShowSpinner(false);\r\n          }\r\n        })\r\n        .catch(() => {\r\n          NotificationManager.error('Failed to get configuration objects', 'Error', 3000);\r\n          setShowSpinner(false);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleSave = () => {\r\n    console.log('handleSave()');\r\n    setShowSpinner(true);\r\n    let obj = { ...mailConfigObj };\r\n    let cf = { ...currentFilter };\r\n    obj.token = query.token;\r\n    obj.addresses = tags;\r\n    console.log(obj);\r\n    console.log('cf.category', cf.category);\r\n    if (cf.category !== '<default>' && obj.category === undefined) {\r\n      console.log('prepare new object ...');\r\n      // Create new entry in DynamoDb\r\n      obj.id = uuid();\r\n      obj.category = cf.category;\r\n    }\r\n\r\n    updateMailConfiguration(obj)\r\n      .then(() => {\r\n        console.log('saved !');\r\n        NotificationManager.success('Configuration updated', 'Success', 3000);\r\n        setShowSpinner(false);\r\n        setShowWarning(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n        NotificationManager.error('Failed to update configuration', 'Error', 3000);\r\n        setShowSpinner(false);\r\n      });\r\n  };\r\n\r\n  const goBack = () => {\r\n    let url;\r\n    if (window.location.href.includes('localhost')) {\r\n      if (window.location.href.includes('dev')) url = `https://localhost/dev/requests.html?region=${query.region}`;\r\n      else url = `https://localhost/dev/requests.html?region=${query.region}`;\r\n    } else {\r\n      url = `../../requests.html?region=${query.region}`;\r\n    }\r\n    console.log('goBack()', url);\r\n    window.location.replace(url);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Container className=\"mt-5\">\r\n        <Button outline size=\"xl\" color=\"primary\" className=\"mb-4\" onClick={goBack}>\r\n          <BiX /> Return to previous page\r\n        </Button>\r\n        <Row>\r\n          <Col>\r\n            <h1>\r\n              <BiMailSend /> M.C.A.P (Mail Configuration Admin Page)\r\n            </h1>\r\n          </Col>\r\n        </Row>\r\n        <span>\r\n          This configuration page allow to set email reciepments for requests that match Region, Product and Category combination.\r\n          <br />\r\n          Please note that this involves frontend and backend behaviour.\r\n        </span>\r\n\r\n        <Row className=\"mt-4\">\r\n          <Col>\r\n            <div className=\"mb-3\">\r\n              Region\r\n              <Select\r\n                isDisabled={false}\r\n                options={regionList}\r\n                isMulti={false}\r\n                isSearchable={false}\r\n                onChange={(v) => {\r\n                  let cf = { ...currentFilter };\r\n                  cf.region = v.value;\r\n                  setCurrentFilter(cf);\r\n                  queryDynamo(cf);\r\n                }}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col>\r\n            <div className=\"mb-3\">\r\n              Product\r\n              <Select\r\n                isDisabled={false}\r\n                options={productList}\r\n                isMulti={false}\r\n                isSearchable={false}\r\n                onChange={(v) => {\r\n                  let cf = { ...currentFilter };\r\n                  cf.product = v.value;\r\n                  setCurrentFilter(cf);\r\n                  queryDynamo(cf);\r\n                }}\r\n              />\r\n            </div>\r\n          </Col>\r\n          <Col>\r\n            <div className=\"mb-3\">\r\n              Category\r\n              <Select\r\n                isDisabled={false}\r\n                options={categoryList}\r\n                isMulti={false}\r\n                isSearchable={false}\r\n                onChange={(v) => {\r\n                  let cf = { ...currentFilter };\r\n                  cf.category = v.value;\r\n                  setCurrentFilter(cf);\r\n                  queryDynamo(cf);\r\n                }}\r\n              />\r\n            </div>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Alert color=\"warning\" hidden={!showWarning}>\r\n              There is no configuration for this combination. Default rules (Region + Product) applied. <br />\r\n              Once overwritten, new entry will be created.\r\n            </Alert>\r\n          </Col>\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <TagsInput value={tags} onChange={handleChange} inputProps={inputProps} validationRegex={/^[\\w-.]+@([\\w-]+\\.)+[\\w-]{2,4}$/} onlyUnique={true} disabled={!mailConfigObj} />\r\n          </Col>\r\n          <Spinner className=\"mt-2\" color=\"primary\" hidden={!showSpinner} />\r\n        </Row>\r\n        <Row>\r\n          <Col>\r\n            <Button outline size=\"xl\" color=\"primary\" className=\"mt-4\" onClick={handleSave} disabled={!mailConfigObj}>\r\n              <BiSave /> Apply\r\n            </Button>\r\n          </Col>\r\n          <Col></Col>\r\n        </Row>\r\n\r\n        <NotificationContainer />\r\n      </Container>\r\n    </>\r\n  );\r\n}\r\n","import React from 'react';\r\nexport default function InvalidUrl(props) {\r\n  return (\r\n    <h1>Invalid URL</h1>\r\n  );\r\n}","import React from 'react';\r\nimport { HashRouter, Route } from 'react-router-dom';\r\nimport RequestsFilter from '../components/RequestsFilter/RequestsFilter';\r\nimport AdminPage from '../components/AdminPage/AdminPage';\r\nimport InvalidUrl from '../components/InvalidUrl/InvalidUrl';\r\n\r\nconst AppRouter = () => (\r\n  <HashRouter>\r\n    <Route path=\"/requestsfilter\" component={RequestsFilter} exact />\r\n    <Route path=\"/adminpage\" component={AdminPage} exact />\r\n    <Route path=\"/\" component={InvalidUrl} exact />\r\n  </HashRouter>\r\n);\r\n\r\nexport default AppRouter;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport AppRouter from \"./routers/AppRouter\";\r\nimport \"./index.css\";\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nReactDOM.render(<AppRouter />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}